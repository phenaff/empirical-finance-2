<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="11 Price and Greeks in the Black-Scholes Model | Topics in Empirical Finance" />
<meta property="og:type" content="book" />
<meta property="og:image" content="/img/frontCover.pdf" />
<meta property="og:description" content="An open access textbook on empirical finance" />
<meta name="github-repo" content="phenaff/empirical-finance-2" />

<meta name="author" content="Patrick Hénaff" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="An open access textbook on empirical finance">

<title>11 Price and Greeks in the Black-Scholes Model | Topics in Empirical Finance</title>

<link href="libs/tufte-css-2015.12.29/tufte-fonts.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-background.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte-italics.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      extensions: ["color.js"]
    }
  });
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="toc.css" type="text/css" />
<link rel="stylesheet" href="custom.css" type="text/css" />

</head>

<body>


<div style="display: none;">
$$
  \newcommand{\given}{\mid}
  \renewcommand{\neg}{\mathbin{\sim}}
  \renewcommand{\wedge}{\mathbin{\&}}
  \newcommand{\p}{Pr}
  \newcommand{\degr}{^{\circ}}
  \newcommand{\E}{E}
  \newcommand{\EU}{EU}
  \newcommand{\u}{U}
  \newcommand{\pr}{Pr}
  \newcommand{\po}{Pr^*}
  \definecolor{bookred}{RGB}{228,6,19}
  \definecolor{bookblue}{RGB}{0,92,169}
  \definecolor{bookpurple}{RGB}{114,49,94} 
$$
</div>

<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#preface-to-the-second-edition">Preface to the second edition</a></li>
<li><a href="preface-to-the-first-edition.html#preface-to-the-first-edition">Preface to the first edition</a></li>
<li class="part"><span><b>Computational Framework</b></span></li>
<li><a href="introduction.html#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li class="has-sub"><a href="ch:data-sources.html#ch:data-sources"><span class="toc-section-number">2</span> Data Sources</a>
<ul>
<li><a href="ch:data-sources.html#commodities-data"><span class="toc-section-number">2.1</span> Commodities Data</a></li>
<li><a href="ch:data-sources.html#libor-rates"><span class="toc-section-number">2.2</span> Libor Rates</a></li>
<li><a href="ch:data-sources.html#sovereign-yield-curves"><span class="toc-section-number">2.3</span> Sovereign Yield Curves</a></li>
<li><a href="ch:data-sources.html#equities-data"><span class="toc-section-number">2.4</span> Equities Data</a></li>
</ul></li>
<li class="has-sub"><a href="basic-components.html#basic-components"><span class="toc-section-number">3</span> Basic Components</a>
<ul>
<li class="has-sub"><a href="basic-components.html#the-finstrument-class"><span class="toc-section-number">3.1</span> The <idx>fInstrument</idx> Class</a>
<ul>
<li><a href="basic-components.html#design-and-implementation"><span class="toc-section-number">3.1.1</span> Design and Implementation</a></li>
</ul></li>
<li class="has-sub"><a href="basic-components.html#the-dataprovider-class"><span class="toc-section-number">3.2</span> The <idx>DataProvider</idx> Class</a>
<ul>
<li><a href="basic-components.html#the-model-for-market-data"><span class="toc-section-number">3.2.1</span> The Model for Market Data</a></li>
<li><a href="basic-components.html#the-search-algorithm"><span class="toc-section-number">3.2.2</span> The Search Algorithm</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="sim-framework.html#sim-framework"><span class="toc-section-number">4</span> The Simulation Framework</a>
<ul>
<li><a href="sim-framework.html#scenario-simulator"><span class="toc-section-number">4.1</span> Scenario Simulator</a></li>
<li class="has-sub"><a href="sim-framework.html#a-delta-hedging-experiment"><span class="toc-section-number">4.2</span> A Delta Hedging Experiment</a>
<ul>
<li><a href="sim-framework.html#design-considerations"><span class="toc-section-number">4.2.1</span> Design Considerations</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Discreet Models</b></span></li>
<li class="has-sub"><a href="arb-free-pricing.html#arb-free-pricing"><span class="toc-section-number">5</span> Arbitrage-Free Pricing and Risk Neutral Valuation</a>
<ul>
<li class="has-sub"><a href="arb-free-pricing.html#arbitrage-free-pricing"><span class="toc-section-number">5.1</span> Arbitrage-free Pricing</a>
<ul>
<li><a href="arb-free-pricing.html#arrow-debreu-securities"><span class="toc-section-number">5.1.1</span> Arrow-Debreu Securities</a></li>
<li><a href="arb-free-pricing.html#the-price-of-traded-securities"><span class="toc-section-number">5.1.2</span> The Price of Traded Securities</a></li>
<li><a href="arb-free-pricing.html#complete-market"><span class="toc-section-number">5.1.3</span> Complete Market</a></li>
<li><a href="arb-free-pricing.html#equivalent-probability-measures"><span class="toc-section-number">5.1.4</span> Equivalent Probability Measures</a></li>
<li><a href="arb-free-pricing.html#the-impact-of-interest-rate"><span class="toc-section-number">5.1.5</span> The Impact of Interest Rate</a></li>
<li><a href="arb-free-pricing.html#trading-strategy-and-dynamic-completeness"><span class="toc-section-number">5.1.6</span> Trading Strategy and Dynamic Completeness</a></li>
<li><a href="arb-free-pricing.html#discounted-asset-prices-as-martingales"><span class="toc-section-number">5.1.7</span> Discounted Asset Prices as Martingales</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="binomial.html#binomial"><span class="toc-section-number">6</span> Risk-Neutral Pricing in a Binomial Framework</a>
<ul>
<li class="has-sub"><a href="binomial.html#introduction-1"><span class="toc-section-number">6.1</span> Introduction</a>
<ul>
<li><a href="binomial.html#subsec:binomial"><span class="toc-section-number">6.1.1</span> The Binomial Model for Stocks</a></li>
</ul></li>
<li><a href="binomial.html#pricing-with-arrow-debreu-securities"><span class="toc-section-number">6.2</span> Pricing With Arrow-Debreu Securities</a></li>
<li><a href="binomial.html#multi-period-binomial-model"><span class="toc-section-number">6.3</span> Multi-Period Binomial Model</a></li>
<li><a href="binomial.html#american-exercise"><span class="toc-section-number">6.4</span> American Exercise</a></li>
<li class="has-sub"><a href="binomial.html#calibration-of-the-binomial-model"><span class="toc-section-number">6.5</span> Calibration of the Binomial Model</a>
<ul>
<li><a href="binomial.html#tree-geometry"><span class="toc-section-number">6.5.1</span> Tree Geometry</a></li>
</ul></li>
</ul></li>
<li><a href="stability-of-the-binomial-model.html#stability-of-the-binomial-model"><span class="toc-section-number">7</span> Stability of the Binomial Model</a></li>
<li class="has-sub"><a href="sec:trinomial.html#sec:trinomial"><span class="toc-section-number">8</span> Trinomial Models</a>
<ul>
<li><a href="sec:trinomial.html#the-trinomial-tree"><span class="toc-section-number">8.1</span> The Trinomial Tree</a></li>
</ul></li>
<li class="part"><span><b>Derivatives in the Black-Scholes Framework</b></span></li>
<li class="has-sub"><a href="pricing-with-black-scholes.html#pricing-with-black-scholes"><span class="toc-section-number">9</span> Pricing with Black-Scholes</a>
<ul>
<li><a href="pricing-with-black-scholes.html#relationships-among-greeks"><span class="toc-section-number">9.1</span> Relationships Among Greeks</a></li>
</ul></li>
<li class="has-sub"><a href="applicability-of-the-black-scholes-model.html#applicability-of-the-black-scholes-model"><span class="toc-section-number">10</span> Applicability of the Black-Scholes Model</a>
<ul>
<li><a href="applicability-of-the-black-scholes-model.html#self-financing-replicating-portfolio"><span class="toc-section-number">10.1</span> Self-Financing Replicating Portfolio</a></li>
<li><a href="applicability-of-the-black-scholes-model.html#hedging-error-due-to-discrete-hedging"><span class="toc-section-number">10.2</span> Hedging Error due to Discrete Hedging</a></li>
<li><a href="applicability-of-the-black-scholes-model.html#error-due-to-unknown-volatility"><span class="toc-section-number">10.3</span> Error due to Unknown Volatility</a></li>
<li class="has-sub"><a href="applicability-of-the-black-scholes-model.html#second-order-hedging"><span class="toc-section-number">10.4</span> Second-Order Hedging</a>
<ul>
<li><a href="applicability-of-the-black-scholes-model.html#gamma-smoothing"><span class="toc-section-number">10.4.1</span> Gamma Smoothing</a></li>
<li><a href="applicability-of-the-black-scholes-model.html#dynamic-delta-gamma-hedge"><span class="toc-section-number">10.4.2</span> Dynamic Delta-Gamma hedge</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="price-and-greeks-in-the-black-scholes-model.html#price-and-greeks-in-the-black-scholes-model"><span class="toc-section-number">11</span> Price and Greeks in the Black-Scholes Model</a>
<ul>
<li><a href="price-and-greeks-in-the-black-scholes-model.html#solving-the-pricing-equation"><span class="toc-section-number">11.1</span> Solving the Pricing Equation</a></li>
<li class="has-sub"><a href="price-and-greeks-in-the-black-scholes-model.html#an-option-dashboard"><span class="toc-section-number">11.2</span> An Option Dashboard</a>
<ul>
<li><a href="price-and-greeks-in-the-black-scholes-model.html#vanilla-option"><span class="toc-section-number">11.2.1</span> Vanilla Option</a></li>
<li><a href="price-and-greeks-in-the-black-scholes-model.html#binary-option"><span class="toc-section-number">11.2.2</span> Binary Option</a></li>
<li><a href="price-and-greeks-in-the-black-scholes-model.html#barrier-option"><span class="toc-section-number">11.2.3</span> Barrier Option</a></li>
<li><a href="price-and-greeks-in-the-black-scholes-model.html#asian-option"><span class="toc-section-number">11.2.4</span> Asian Option</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="dynamic-hedging-with-the-black-scholes-model.html#dynamic-hedging-with-the-black-scholes-model"><span class="toc-section-number">12</span> Dynamic Hedging with the Black-Scholes Model</a>
<ul>
<li><a href="dynamic-hedging-with-the-black-scholes-model.html#self-financing-replicating-portfolio-1"><span class="toc-section-number">12.1</span> Self-Financing Replicating Portfolio</a></li>
<li><a href="dynamic-hedging-with-the-black-scholes-model.html#hedging-error-due-to-discrete-hedging-1"><span class="toc-section-number">12.2</span> Hedging Error due to Discrete Hedging</a></li>
<li><a href="dynamic-hedging-with-the-black-scholes-model.html#error-due-to-unknown-volatility-1"><span class="toc-section-number">12.3</span> Error due to Unknown Volatility</a></li>
<li class="has-sub"><a href="dynamic-hedging-with-the-black-scholes-model.html#second-order-hedging-1"><span class="toc-section-number">12.4</span> Second-Order Hedging</a>
<ul>
<li><a href="dynamic-hedging-with-the-black-scholes-model.html#gamma-smoothing-1"><span class="toc-section-number">12.4.1</span> Gamma Smoothing</a></li>
<li><a href="dynamic-hedging-with-the-black-scholes-model.html#dynamic-delta-gamma-hedge-1"><span class="toc-section-number">12.4.2</span> Dynamic Delta-Gamma hedge</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="dynamic-hedging-in-the-black-scholes-framework.html#dynamic-hedging-in-the-black-scholes-framework"><span class="toc-section-number">13</span> Dynamic Hedging in the Black-Scholes Framework</a>
<ul>
<li class="has-sub"><a href="dynamic-hedging-in-the-black-scholes-framework.html#self-financing-replicating-portfolio-2"><span class="toc-section-number">13.1</span> Self-Financing Replicating Portfolio</a>
<ul>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#continuous-rebalancing"><span class="toc-section-number">13.1.1</span> Continuous rebalancing</a></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#discreet-rebalancing"><span class="toc-section-number">13.1.2</span> Discreet rebalancing</a></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#illustration"><span class="toc-section-number">13.1.3</span> Illustration</a></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#a-more-realistic-example"><span class="toc-section-number">13.1.4</span> A More Realistic Example</a></li>
</ul></li>
<li class="has-sub"><a href="dynamic-hedging-in-the-black-scholes-framework.html#hedging-error-due-to-discrete-hedging-2"><span class="toc-section-number">13.2</span> Hedging Error due to Discrete Hedging</a>
<ul>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#empirical-test"><span class="toc-section-number">13.2.1</span> Empirical Test</a></li>
</ul></li>
<li class="has-sub"><a href="dynamic-hedging-in-the-black-scholes-framework.html#hedging-error-due-to-transaction-cost"><span class="toc-section-number">13.3</span> Hedging Error due to Transaction Cost</a>
<ul>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#empirical-test-1"><span class="toc-section-number">13.3.1</span> Empirical Test</a></li>
</ul></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#hedging-error-due-to-unknown-volatility"><span class="toc-section-number">13.4</span> Hedging Error due to Unknown Volatility</a></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#conclusion"><span class="toc-section-number">13.5</span> Conclusion</a></li>
<li><a href="dynamic-hedging-in-the-black-scholes-framework.html#second-order-hedging-2"><span class="toc-section-number">13.6</span> Second-Order Hedging</a></li>
</ul></li>
<li class="has-sub"><a href="the-implied-volatility.html#the-implied-volatility"><span class="toc-section-number">14</span> The implied volatility</a>
<ul>
<li><a href="the-implied-volatility.html#market-data"><span class="toc-section-number">14.1</span> Market Data</a></li>
<li class="has-sub"><a href="the-implied-volatility.html#calculation-of-implied-volatility"><span class="toc-section-number">14.2</span> Calculation of implied volatility</a>
<ul>
<li><a href="the-implied-volatility.html#newtons-method"><span class="toc-section-number">14.2.1</span> Newton’s method</a></li>
<li><a href="the-implied-volatility.html#implied-volatility-by-newtons-method"><span class="toc-section-number">14.2.2</span> Implied Volatility by Newton’s Method</a></li>
<li><a href="the-implied-volatility.html#secant-method"><span class="toc-section-number">14.2.3</span> Secant Method</a></li>
<li><a href="the-implied-volatility.html#jaeckels-method"><span class="toc-section-number">14.2.4</span> Jaeckel’s method</a></li>
<li><a href="the-implied-volatility.html#normalized-call-price-as-a-function-of-sigma"><span class="toc-section-number">14.2.5</span> Normalized Call price as a function of <span class="math inline">\(\sigma\)</span></a></li>
<li><a href="the-implied-volatility.html#transformed-objective-function"><span class="toc-section-number">14.2.6</span> Transformed objective function</a></li>
<li><a href="the-implied-volatility.html#impact-of-dividends"><span class="toc-section-number">14.2.7</span> Impact of Dividends</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="vanna-volga-pricing-and-hedging.html#vanna-volga-pricing-and-hedging"><span class="toc-section-number">15</span> Vanna-Volga Pricing and Hedging</a>
<ul>
<li class="has-sub"><a href="vanna-volga-pricing-and-hedging.html#principle"><span class="toc-section-number">15.1</span> Principle</a>
<ul>
<li><a href="vanna-volga-pricing-and-hedging.html#vanna-volga-dynamic-hedging"><span class="toc-section-number">15.1.1</span> Vanna-Volga Dynamic Hedging</a></li>
</ul></li>
<li class="has-sub"><a href="vanna-volga-pricing-and-hedging.html#implementation"><span class="toc-section-number">15.2</span> Implementation</a>
<ul>
<li><a href="vanna-volga-pricing-and-hedging.html#vanna-volga-dynamic-hedging-1"><span class="toc-section-number">15.2.1</span> Vanna-Volga Dynamic Hedging</a></li>
</ul></li>
<li class="has-sub"><a href="vanna-volga-pricing-and-hedging.html#illustrations"><span class="toc-section-number">15.3</span> Illustrations</a>
<ul>
<li><a href="vanna-volga-pricing-and-hedging.html#volatility-interpolation"><span class="toc-section-number">15.3.1</span> Volatility Interpolation</a></li>
<li><a href="vanna-volga-pricing-and-hedging.html#pricing-a-binary-option"><span class="toc-section-number">15.3.2</span> Pricing a Binary Option</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Fixed Income</b></span></li>
<li class="has-sub"><a href="fi:elementary.html#fi:elementary"><span class="toc-section-number">16</span> Elementary Fixed Income Calculations</a>
<ul>
<li><a href="fi:elementary.html#bond-pricing"><span class="toc-section-number">16.1</span> Bond Pricing</a></li>
<li><a href="fi:elementary.html#the-price-yield-curves"><span class="toc-section-number">16.2</span> The Price-Yield Curves</a></li>
<li class="has-sub"><a href="fi:elementary.html#basic-measures-of-interest-rate-risk"><span class="toc-section-number">16.3</span> Basic Measures of Interest Rate Risk</a>
<ul>
<li><a href="fi:elementary.html#variation"><span class="toc-section-number">16.3.1</span> Variation</a></li>
<li><a href="fi:elementary.html#approximate-portfolio-yield"><span class="toc-section-number">16.3.2</span> Approximate Portfolio Yield</a></li>
<li><a href="fi:elementary.html#sensitivity"><span class="toc-section-number">16.3.3</span> Sensitivity</a></li>
<li><a href="fi:elementary.html#modified-duration-of-a-portfolio"><span class="toc-section-number">16.3.4</span> Modified Duration of a Portfolio</a></li>
<li><a href="fi:elementary.html#duration"><span class="toc-section-number">16.3.5</span> Duration</a></li>
<li><a href="fi:elementary.html#sec:duration-of-a-portfolio"><span class="toc-section-number">16.3.6</span> Duration of a Portfolio</a></li>
</ul></li>
<li><a href="fi:elementary.html#bond-clean-and-dirty-price"><span class="toc-section-number">16.4</span> Bond Clean and Dirty Price</a></li>
</ul></li>
<li class="has-sub"><a href="the-term-structure-of-interest-rates.html#the-term-structure-of-interest-rates"><span class="toc-section-number">17</span> The Term Structure of Interest Rates</a>
<ul>
<li><a href="the-term-structure-of-interest-rates.html#term-structure-shapes"><span class="toc-section-number">17.1</span> Term Structure Shapes</a></li>
<li><a href="the-term-structure-of-interest-rates.html#building-a-zero-coupon-bond-curve"><span class="toc-section-number">17.2</span> Building a Zero-Coupon Bond Curve</a></li>
<li><a href="the-term-structure-of-interest-rates.html#functional-forms-for-the-zero-coupon-curve"><span class="toc-section-number">17.3</span> Functional forms for the zero-coupon curve</a></li>
</ul></li>
<li class="has-sub"><a href="simple-interest-rate-derivatives.html#simple-interest-rate-derivatives"><span class="toc-section-number">18</span> Simple Interest Rate Derivatives</a>
<ul>
<li><a href="simple-interest-rate-derivatives.html#spot-and-forward-interest-rates"><span class="toc-section-number">18.1</span> Spot and Forward Interest Rates</a></li>
<li><a href="simple-interest-rate-derivatives.html#forward-rate-agreement-fra"><span class="toc-section-number">18.2</span> Forward Rate Agreement (FRA)</a></li>
<li class="has-sub"><a href="simple-interest-rate-derivatives.html#t-bill-futures"><span class="toc-section-number">18.3</span> T-Bill Futures</a>
<ul>
<li><a href="simple-interest-rate-derivatives.html#arbitrage"><span class="toc-section-number">18.3.1</span> Arbitrage</a></li>
<li><a href="simple-interest-rate-derivatives.html#quotes"><span class="toc-section-number">18.3.2</span> Quotes</a></li>
</ul></li>
<li><a href="simple-interest-rate-derivatives.html#euro-currency-futures"><span class="toc-section-number">18.4</span> Euro-Currency Futures</a></li>
<li><a href="simple-interest-rate-derivatives.html#eurodollar-rate-versus-forward-rate"><span class="toc-section-number">18.5</span> Eurodollar Rate Versus Forward Rate</a></li>
<li class="has-sub"><a href="simple-interest-rate-derivatives.html#convexity-adjustment"><span class="toc-section-number">18.6</span> Convexity Adjustment</a>
<ul>
<li><a href="simple-interest-rate-derivatives.html#special-case-of-natural-time-lag"><span class="toc-section-number">18.6.1</span> Special Case of Natural Time Lag</a></li>
<li><a href="simple-interest-rate-derivatives.html#convexity-adjustment-examples"><span class="toc-section-number">18.6.2</span> Convexity Adjustment Examples</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="bond-futures.html#bond-futures"><span class="toc-section-number">19</span> Bond Futures</a>
<ul>
<li><a href="bond-futures.html#forward-price"><span class="toc-section-number">19.1</span> Forward Price</a></li>
<li><a href="bond-futures.html#delivery-against-the-futures-contract"><span class="toc-section-number">19.2</span> Delivery against the Futures contract</a></li>
<li><a href="bond-futures.html#the-conversion-factor"><span class="toc-section-number">19.3</span> The Conversion Factor</a></li>
<li><a href="bond-futures.html#determination-of-the-cheapest-to-deliver"><span class="toc-section-number">19.4</span> Determination of the Cheapest to Deliver</a></li>
<li><a href="bond-futures.html#implied-repo-rate"><span class="toc-section-number">19.5</span> Implied Repo Rate</a></li>
<li><a href="bond-futures.html#the-delivery-option"><span class="toc-section-number">19.6</span> The Delivery Option</a></li>
<li><a href="bond-futures.html#ir-sensitivity-of-bund-futures"><span class="toc-section-number">19.7</span> IR sensitivity of Bund Futures</a></li>
<li><a href="bond-futures.html#cash-carry-arbitrage"><span class="toc-section-number">19.8</span> Cash-Carry Arbitrage</a></li>
<li><a href="bond-futures.html#hedging-a-bond-with-a-euro-bund-contract"><span class="toc-section-number">19.9</span> Hedging a Bond with a Euro-Bund Contract</a></li>
</ul></li>
<li class="has-sub"><a href="libor-swaps.html#libor-swaps"><span class="toc-section-number">20</span> Libor Swaps</a>
<ul>
<li><a href="libor-swaps.html#ir-swap-pricing"><span class="toc-section-number">20.1</span> IR Swap Pricing</a></li>
</ul></li>
<li class="has-sub"><a href="fixed-income-risk-management.html#fixed-income-risk-management"><span class="toc-section-number">21</span> Fixed Income Risk Management</a>
<ul>
<li><a href="fixed-income-risk-management.html#immunization"><span class="toc-section-number">21.1</span> Immunization</a></li>
<li><a href="fixed-income-risk-management.html#dedication"><span class="toc-section-number">21.2</span> Dedication</a></li>
</ul></li>
<li class="has-sub"><a href="the-vasicek-model.html#the-vasicek-model"><span class="toc-section-number">22</span> The Vasicek Model</a>
<ul>
<li><a href="the-vasicek-model.html#derivatives-with-non-traded-underlying-asset"><span class="toc-section-number">22.1</span> Derivatives with Non Traded Underlying Asset</a></li>
<li><a href="the-vasicek-model.html#the-market-price-of-interest-rate-risk"><span class="toc-section-number">22.2</span> The Market Price of Interest Rate Risk</a></li>
</ul></li>
<li class="has-sub"><a href="the-model-of-hull-white.html#the-model-of-hull-white"><span class="toc-section-number">23</span> The Model of Hull &amp; White</a>
<ul>
<li><a href="the-model-of-hull-white.html#moments-of-x_t-under-a-ou-process"><span class="toc-section-number">23.1</span> Moments of <span class="math inline">\(x_t\)</span> under a OU Process</a></li>
<li class="has-sub"><a href="the-model-of-hull-white.html#the-hull-white-trinomial-model"><span class="toc-section-number">23.2</span> The Hull &amp; White Trinomial Model</a>
<ul>
<li><a href="the-model-of-hull-white.html#step-1"><span class="toc-section-number">23.2.1</span> Step 1</a></li>
<li><a href="the-model-of-hull-white.html#step-2"><span class="toc-section-number">23.2.2</span> Step 2</a></li>
</ul></li>
<li><a href="the-model-of-hull-white.html#generalization"><span class="toc-section-number">23.3</span> Generalization</a></li>
</ul></li>
<li class="has-sub"><a href="deterministic-time-varying-volatility.html#deterministic-time-varying-volatility"><span class="toc-section-number">24</span> Deterministic Time-Varying Volatility</a>
<ul>
<li><a href="deterministic-time-varying-volatility.html#gabillons-model"><span class="toc-section-number">24.1</span> Gabillon’s Model</a></li>
<li><a href="deterministic-time-varying-volatility.html#deterministic-volatility-in-a-seasonal-market"><span class="toc-section-number">24.2</span> Deterministic Volatility in a Seasonal Market</a></li>
</ul></li>
<li class="has-sub"><a href="pricing-under-an-objective-density.html#pricing-under-an-objective-density"><span class="toc-section-number">25</span> Pricing under an Objective Density</a>
<ul>
<li><a href="pricing-under-an-objective-density.html#conditional-entropy"><span class="toc-section-number">25.1</span> Conditional Entropy</a></li>
<li><a href="pricing-under-an-objective-density.html#relative-entropy-of-uniform-densities"><span class="toc-section-number">25.2</span> Relative Entropy of Uniform Densities</a></li>
<li class="has-sub"><a href="pricing-under-an-objective-density.html#computation-of-a-risk-neutral-density"><span class="toc-section-number">25.3</span> Computation of a Risk-neutral Density</a>
<ul>
<li><a href="pricing-under-an-objective-density.html#calculation-of-risk-neutral-density-p"><span class="toc-section-number">25.3.1</span> Calculation of Risk-Neutral Density <span class="math inline">\(P\)</span></a></li>
<li><a href="pricing-under-an-objective-density.html#matching-market-data"><span class="toc-section-number">25.3.2</span> Matching Market Data</a></li>
<li><a href="pricing-under-an-objective-density.html#solution"><span class="toc-section-number">25.3.3</span> Solution</a></li>
<li><a href="pricing-under-an-objective-density.html#solution-1"><span class="toc-section-number">25.3.4</span> Solution</a></li>
<li><a href="pricing-under-an-objective-density.html#illustration-1"><span class="toc-section-number">25.3.5</span> Illustration</a></li>
<li><a href="pricing-under-an-objective-density.html#a-lottery-ticket"><span class="toc-section-number">25.3.6</span> A Lottery Ticket…</a></li>
</ul></li>
<li class="has-sub"><a href="pricing-under-an-objective-density.html#monte-carlo-pricing-with-historical-paths"><span class="toc-section-number">25.4</span> Monte-Carlo Pricing with Historical Paths</a>
<ul>
<li><a href="pricing-under-an-objective-density.html#sec:model"><span class="toc-section-number">25.4.1</span> The Model</a></li>
<li><a href="pricing-under-an-objective-density.html#incorporation-of-bid-ask-spread"><span class="toc-section-number">25.4.2</span> Incorporation of bid-ask spread</a></li>
<li><a href="pricing-under-an-objective-density.html#extension-to-arbitrary-cash-flows"><span class="toc-section-number">25.4.3</span> Extension to arbitrary cash flows</a></li>
</ul></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="price-and-greeks-in-the-black-scholes-model" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Price and Greeks in the Black-Scholes Model</h1>
<pre><code>## Loading required package: timeDate</code></pre>
<pre><code>## Loading required package: timeSeries</code></pre>
<pre><code>## Loading required package: fBasics</code></pre>
<pre><code>## Loading required package: lubridate</code></pre>
<pre><code>## Loading required package: timechange</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<pre><code>## Loading required package: Hmisc</code></pre>
<pre><code>## Loading required package: lattice</code></pre>
<pre><code>## Loading required package: survival</code></pre>
<pre><code>## Loading required package: Formula</code></pre>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;Hmisc&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     format.pval, units</code></pre>
<pre><code>## Loading required package: xtable</code></pre>
<pre><code>## 
## Attaching package: &#39;xtable&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:Hmisc&#39;:
## 
##     label, label&lt;-</code></pre>
<pre><code>## The following object is masked from &#39;package:timeSeries&#39;:
## 
##     align</code></pre>
<pre><code>## The following object is masked from &#39;package:timeDate&#39;:
## 
##     align</code></pre>
<pre><code>## Loading required package: empfin</code></pre>
<pre><code>## Loading required package: fImport</code></pre>
<pre><code>## Loading required package: RCurl</code></pre>
<p>In this chapter, we consider the price and risk indicators of several
types of options. We are particularly interested in the higher order
risk indicators, such as the Gamma. We will see later that this
indicator has a major impact on our ability to dynamically hedge such
instruments.</p>
<div id="solving-the-pricing-equation" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Solving the Pricing Equation</h2>
<p>A fairly rigorous derivation of the Black-Scholes equation can be
obtained without using the tools of stochastic calculus. Recall from the
previous section that under the risk-neutral probability, the discounted
value is a martingale:</p>
<p><span class="math display">\[S_0 = e^{-rT} E^Q(S_T)\]</span></p>
<p>where <span class="math inline">\(S_T\)</span> is a log-normal variable that follows the process:</p>
<p><span class="math display">\[S_T = S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}Y}\]</span></p>
<p>with <span class="math inline">\(Y ~ N(0,1)\)</span>. The value of any derivative is the discounted
expected payoff. For a call option, we have:</p>
<p><span class="math display">\[\begin{aligned}
    c(S, 0) &amp;=&amp; e^{-rT} E^Q [ \left( S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}Y}-K \right)^+ ] \\
    &amp;=&amp; \frac{e^{-rT}}{\sqrt{2\pi}} \int_{-\infty}^{\infty} \left( S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}Y}-K \right)^+ e^{-x^2/2} dx\end{aligned}\]</span></p>
<p>Now compute the bounds of integration:</p>
<p><span class="math display">\[\begin{aligned}
    &amp; &amp; S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}x} \geq K \\
    &amp; &lt;=&gt; &amp; e^{\sigma \sqrt{T} x} \geq \frac{K}{S_0} e^{-(r-\frac{\sigma^2}{2})T} \\
    &amp; &lt;=&gt; &amp; x \geq \frac{1}{\sigma \sqrt{T}} \left( \ln(\frac{K}{S_0}) -(r-\frac{\sigma^2}{2})T \right)\end{aligned}\]</span></p>
<p>Let</p>
<p><span class="math display">\[T_1 = \frac{1}{\sigma \sqrt{T}} \left( \ln(\frac{K}{S_0}) -(r-\frac{\sigma^2}{2})T \right)\]</span></p>
<p><span class="math display">\[\begin{aligned}
    c(S, 0) &amp;=&amp;  \frac{e^{-rT}}{\sqrt{2\pi}} \int_{T_1}^{\infty} \left( S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}x}-K \right) e^{-x^2/2} dx \\
    &amp;=&amp; \frac{e^{-rT}}{\sqrt{2\pi}} \int_{T_1}^{\infty} S_0 e^{(r-\frac{\sigma^2}{2})T + \sigma \sqrt{T}x} e^{-x^2/2} dx - K  \frac{e^{-rT}}{\sqrt{2\pi}} \int_{T_1}^{\infty}  e^{-x^2/2} dx \\
    &amp;=&amp; A - B\end{aligned}\]</span></p>
<p><span class="math display">\[B = K e^{-rT} (1-N(T_1))\]</span></p>
<p>Apply the change of variable <span class="math inline">\(y = x-\sigma \sqrt{T}\)</span> to get</p>
<p><span class="math display">\[\begin{aligned}
    A &amp;=&amp;  \frac{e^{-rT}}{\sqrt{2\pi}} \int_{T_1-\sigma \sqrt{T}}^{\infty} S_0 e^{-y^2/2} dy \\
      &amp;=&amp; S_0 (1-N(T_1 - \sigma \sqrt{T}))\end{aligned}\]</span></p>
<p>where <span class="math inline">\(N(x)\)</span> is the cumulative normal distribution. Using the identity
<span class="math inline">\(N(x)+N(-x)=1\)</span>, one gets the Black-Scholes formula in its standard form.</p>
<p><span class="math display" id="eq:bs-call">\[C_{\mbox{BS}}(S,0) = S_0N(d_1) - Ke^{-rT}N(d_2) \,
\tag{11.1}\]</span></p>
<p>with</p>
<p><span class="math display">\[\begin{aligned}
    d_1 &amp;=&amp; \frac{\ln(S/K) + (r + \sigma^2/2)T}{\sigma\sqrt{T}} \\
    d_2 &amp;=&amp; d_1 - \sigma\sqrt{T}.\end{aligned}\]</span></p>
<p>The value of the put can be obtained from the call-put parity
relationships.</p>
<p>In the following discussion about the management of market risk of
option portfolios, we use three risk indicators, also known as greeks:</p>
<ul>
<li><p>Delta, which is the derivative of price with respect to the price of
the underlying asset,</p></li>
<li><p>Gamma, which is the second derivative of price with respect to spot,
and</p></li>
<li><p>Vega, which is the derivative of price with respect to the
volatility.</p></li>
</ul>
<p>See, for example Hull <span class="math display">\[[@Hull1997]\]</span> for a detailed discussion of these
risk indicators.</p>
</div>
<div id="an-option-dashboard" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> An Option Dashboard</h2>
<p>We start the chapter by constructing a “dashboard” which illustrates the
properties of various types of European options. These displays are
inspired by similar figures developped by D. Eddelbuettel
<span class="math display">\[[@Eddelbuettela]\]</span> for the RQuantLib project. The class provides a
generic way of writing such function.</p>
<p>The dashboard has four panels, which display the price, delta, gamma and
vega of the option under consideration. Each panel has a family of
curves varying in color from yellow to green to blue. This family of
curves pictures the evolution of the price and of the greeks for varying
levels of volatility. The yellow curves corresponding to a high
volatility conditions, and at the other end, the blue line corresponding
to low volatility conditions.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-1" aria-hidden="true" tabindex="-1"></a>OptionDashBoard <span class="ot">&lt;-</span> <span class="cf">function</span>(inst, base.env, dtCalc,</span>
<span id="cb84-2"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-2" aria-hidden="true" tabindex="-1"></a>    und.seq, vol.seq, <span class="at">trace =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb84-3"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-3" aria-hidden="true" tabindex="-1"></a>    sce <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(und.seq))</span>
<span id="cb84-4"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-4" aria-hidden="true" tabindex="-1"></a>    underlying <span class="ot">&lt;-</span> inst<span class="sc">@</span>params<span class="sc">$</span>underlying</span>
<span id="cb84-5"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;Price&quot;</span>, dtCalc,</span>
<span id="cb84-6"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-6" aria-hidden="true" tabindex="-1"></a>        sce)</span>
<span id="cb84-7"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-8" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="fu">length</span>(und.seq), <span class="at">ncol =</span> <span class="fu">length</span>(vol.seq))</span>
<span id="cb84-9"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-9" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="fu">length</span>(und.seq), <span class="at">ncol =</span> <span class="fu">length</span>(vol.seq))</span>
<span id="cb84-10"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-10" aria-hidden="true" tabindex="-1"></a>    g <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="fu">length</span>(und.seq), <span class="at">ncol =</span> <span class="fu">length</span>(vol.seq))</span>
<span id="cb84-11"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-11" aria-hidden="true" tabindex="-1"></a>    v <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="fu">length</span>(und.seq), <span class="at">ncol =</span> <span class="fu">length</span>(vol.seq))</span>
<span id="cb84-12"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-13"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(vol.seq)) {</span>
<span id="cb84-14"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;ATMVol&quot;</span>,</span>
<span id="cb84-15"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-15" aria-hidden="true" tabindex="-1"></a>            dtCalc, vol.seq[i])</span>
<span id="cb84-16"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-16" aria-hidden="true" tabindex="-1"></a>        p[, i] <span class="ot">&lt;-</span> <span class="fu">getValue</span>(inst, <span class="st">&quot;Price&quot;</span>, dtCalc,</span>
<span id="cb84-17"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-17" aria-hidden="true" tabindex="-1"></a>            base.env)</span>
<span id="cb84-18"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-18" aria-hidden="true" tabindex="-1"></a>        d[, i] <span class="ot">&lt;-</span> <span class="fu">getValue</span>(inst, <span class="st">&quot;Delta&quot;</span>, dtCalc,</span>
<span id="cb84-19"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-19" aria-hidden="true" tabindex="-1"></a>            base.env)</span>
<span id="cb84-20"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-20" aria-hidden="true" tabindex="-1"></a>        g[, i] <span class="ot">&lt;-</span> <span class="fu">getValue</span>(inst, <span class="st">&quot;Gamma&quot;</span>, dtCalc,</span>
<span id="cb84-21"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-21" aria-hidden="true" tabindex="-1"></a>            base.env)</span>
<span id="cb84-22"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-22" aria-hidden="true" tabindex="-1"></a>        v[, i] <span class="ot">&lt;-</span> <span class="fu">getValue</span>(inst, <span class="st">&quot;Vega&quot;</span>, dtCalc,</span>
<span id="cb84-23"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-23" aria-hidden="true" tabindex="-1"></a>            base.env)</span>
<span id="cb84-24"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb84-25"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-26"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (trace) {</span>
<span id="cb84-27"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="st">&quot;price&quot;</span>)</span>
<span id="cb84-28"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(p)</span>
<span id="cb84-29"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb84-30"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-31"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-31" aria-hidden="true" tabindex="-1"></a>    old.par <span class="ot">&lt;-</span> <span class="fu">par</span>(<span class="at">no.readonly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb84-32"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="at">oma =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb84-33"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb84-34"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-35"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Price</span></span>
<span id="cb84-36"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(und.seq, p[, <span class="dv">1</span>], <span class="at">type =</span> <span class="st">&quot;n&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Price&quot;</span>,</span>
<span id="cb84-37"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb84-38"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-38" aria-hidden="true" tabindex="-1"></a>    topocol <span class="ot">&lt;-</span> <span class="fu">topo.colors</span>(<span class="fu">length</span>(vol.seq))</span>
<span id="cb84-39"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(vol.seq)) <span class="fu">lines</span>(und.seq,</span>
<span id="cb84-40"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-40" aria-hidden="true" tabindex="-1"></a>        p[, i], <span class="at">col =</span> topocol[i])</span>
<span id="cb84-41"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-42"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Delta</span></span>
<span id="cb84-43"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(und.seq, d[, <span class="dv">1</span>], <span class="at">type =</span> <span class="st">&quot;n&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Delta&quot;</span>,</span>
<span id="cb84-44"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb84-45"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-46"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(vol.seq)) <span class="fu">lines</span>(und.seq,</span>
<span id="cb84-47"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-47" aria-hidden="true" tabindex="-1"></a>        d[, i], <span class="at">col =</span> topocol[i])</span>
<span id="cb84-48"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-49"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Gamma</span></span>
<span id="cb84-50"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(und.seq, g[, <span class="dv">1</span>], <span class="at">type =</span> <span class="st">&quot;n&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Gamma&quot;</span>,</span>
<span id="cb84-51"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb84-52"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(vol.seq)) <span class="fu">lines</span>(und.seq,</span>
<span id="cb84-53"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-53" aria-hidden="true" tabindex="-1"></a>        g[, i], <span class="at">col =</span> topocol[i])</span>
<span id="cb84-54"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-55"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Vega</span></span>
<span id="cb84-56"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(und.seq, v[, <span class="dv">1</span>], <span class="at">type =</span> <span class="st">&quot;n&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Vega&quot;</span>,</span>
<span id="cb84-57"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb84-58"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(vol.seq)) <span class="fu">lines</span>(und.seq,</span>
<span id="cb84-59"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-59" aria-hidden="true" tabindex="-1"></a>        v[, i], <span class="at">col =</span> topocol[i])</span>
<span id="cb84-60"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-61"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mtext</span>(<span class="at">text =</span> <span class="fu">paste</span>(inst<span class="sc">@</span>desc, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">rate: 0.03&quot;</span>,</span>
<span id="cb84-62"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-62" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Underlying from&quot;</span>, und.seq[<span class="dv">1</span>], <span class="st">&quot;to&quot;</span>, und.seq[<span class="fu">length</span>(und.seq)],</span>
<span id="cb84-63"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-63" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Volatility  from&quot;</span>, vol.seq[<span class="dv">1</span>], <span class="st">&quot;to&quot;</span>,</span>
<span id="cb84-64"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-64" aria-hidden="true" tabindex="-1"></a>        vol.seq[<span class="fu">length</span>(vol.seq)]), <span class="at">side =</span> <span class="dv">1</span>, <span class="at">font =</span> <span class="dv">1</span>,</span>
<span id="cb84-65"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">outer =</span> <span class="cn">TRUE</span>, <span class="at">line =</span> <span class="dv">3</span>)</span>
<span id="cb84-66"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">par</span>(old.par)</span>
<span id="cb84-67"><a href="price-and-greeks-in-the-black-scholes-model.html#cb84-67" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="vanilla-option" class="section level3" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> Vanilla Option</h3>
<p>European calls and puts are called “vanilla” in the banking industry,
presumably due to their simple structures. The payoff of a vanilla
option (call) is:</p>
<p><span class="math display">\[(S_T-K)^+\]</span> and its value (call) is given by:
<span class="math display">\[e^{-rT} \left(F_T N(d_1)-K N(d_2)\right)\]</span></p>
<p>where <span class="math inline">\(F_T\)</span> is the forward value of the underlying asset at <span class="math inline">\(T\)</span>.</p>
<p>For at-the-money options, a simple approximation to the Black-Scholes
price is: <span class="math display">\[V = e^{-rT} F_T \frac{\sigma\sqrt{T}}{\sqrt{2\pi}}\]</span></p>
<p>The formula above makes use of the approximation:</p>
<p><span class="math display">\[N(x) \approx \frac{1}{2} + \frac{x}{\sqrt{2\pi}} + O(x^2)\]</span></p>
<p>The evolution of price and greeks as a function of the underlying asset
and volatility is shown in figure <span class="math display">\[fig:eu-call\]</span>. The graph is obtained
with the following script:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-1" aria-hidden="true" tabindex="-1"></a>dtExpiry <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2011&quot;</span>)</span>
<span id="cb85-2"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-2" aria-hidden="true" tabindex="-1"></a>underlying <span class="ot">&lt;-</span> <span class="st">&quot;IBM&quot;</span></span>
<span id="cb85-3"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-3" aria-hidden="true" tabindex="-1"></a>Strike <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb85-4"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-4" aria-hidden="true" tabindex="-1"></a>K <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb85-5"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-6"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-6" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">fInstrumentFactory</span>(<span class="st">&quot;vanilla&quot;</span>, <span class="at">quantity =</span> <span class="dv">1</span>,</span>
<span id="cb85-7"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">cp =</span> <span class="st">&quot;c&quot;</span>, <span class="at">strike =</span> Strike, <span class="at">dtExpiry =</span> dtExpiry,</span>
<span id="cb85-8"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">underlying =</span> underlying, <span class="at">discountRef =</span> <span class="st">&quot;USD.LIBOR&quot;</span>,</span>
<span id="cb85-9"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">trace =</span> <span class="cn">FALSE</span>))</span>
<span id="cb85-10"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="co"># define two vectors for the underlying and</span></span>
<span id="cb85-12"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the volatility all other market data is</span></span>
<span id="cb85-13"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="co"># fixed</span></span>
<span id="cb85-14"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-14" aria-hidden="true" tabindex="-1"></a>und.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">40</span>, <span class="dv">160</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb85-15"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-15" aria-hidden="true" tabindex="-1"></a>vol.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb85-16"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-17"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-17" aria-hidden="true" tabindex="-1"></a>base.env <span class="ot">&lt;-</span> <span class="fu">DataProvider</span>()</span>
<span id="cb85-18"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-18" aria-hidden="true" tabindex="-1"></a>dtCalc <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2010&quot;</span>)</span>
<span id="cb85-19"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-19" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;DivYield&quot;</span>, dtCalc,</span>
<span id="cb85-20"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-20" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb85-21"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-21" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, <span class="st">&quot;USD.LIBOR&quot;</span>, <span class="st">&quot;Yield&quot;</span>, dtCalc,</span>
<span id="cb85-22"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-22" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb85-23"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-24"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-24" aria-hidden="true" tabindex="-1"></a><span class="fu">OptionDashBoard</span>(b, base.env, dtCalc, und.seq,</span>
<span id="cb85-25"><a href="price-and-greeks-in-the-black-scholes-model.html#cb85-25" aria-hidden="true" tabindex="-1"></a>    vol.seq)</span></code></pre></div>
<p><img src="303-BlackScholes-3_files/figure-html/Vanilla-1.png" width="672"  /></p>
<p><img src="303-BlackScholes-3_files/figure-html/fig-Vanilla-2-1.png" width="480"  /></p>
<p>Several observations are worth mentioning:</p>
<ul>
<li><p>In high volatility conditions, the delta is almost linear, but takes
on more pronounced a “S” shape as volatility decrease.</p></li>
<li><p>The gamma is always positive, reflecting the uniformly convex shape
of the premium function.</p></li>
<li><p>The vega is also always positive: an increase in volatility always
results in an increase in premium.</p></li>
</ul>
<p>We will see shortly that these last two features have important
implications for risk management.</p>
</div>
<div id="binary-option" class="section level3" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> Binary Option</h3>
<p>A binary option pays a fixed amount if the underlying asset is in the
money at expiry.</p>
<p>The payoff is: <span class="math display">\[1_{S_T&gt;K}\]</span></p>
<p>Recall that <span class="math inline">\(N(d_2)\)</span> is the risk-neutral probability that <span class="math inline">\(S_T&gt;K\)</span> at
expiry. The value of a binary call is therefore:</p>
<p><span class="math display">\[e^{-rT} N(d_2)\]</span></p>
<p>Alternatively, observe that a binary option struck at <span class="math inline">\(K\)</span> can be
replicated by a very tight call spread:
<span class="math display">\[C_{\mbox{B}}(K) = \lim_{h \rightarrow 0} \frac{C_{\mbox{V}} (K-h) - C_{\mbox{V}} (K-h)}{h}\]</span></p>
<p>where <span class="math inline">\(C_{\mbox{B}}(K)\)</span> is the price of a binary call struk at <span class="math inline">\(K\)</span>and
<span class="math inline">\(C_{\mbox{V}}(K)\)</span> the price of a vanilla call. The value of a binary
call is the negative of the derivative of a vanilla call price with
respect to strike.</p>
<p><span class="math display">\[\begin{aligned}
C_{\mbox{B}}(K) &amp;=&amp; -\frac{\partial C_{\mbox{V}} (K)}{\partial K} \\
&amp;=&amp; e^{-rT} N(d_2)\end{aligned}\]</span></p>
<p>Recall that the derivative of a vanilla call price with respect to spot
is <span class="math inline">\(N(d_1)\)</span>, therefore, the shape of the binary price function is
similar to the shape of the delta of a European option, and the shape of
the delta of a binary call is similar to the shape of the gamma of a
vanilla option.</p>
<p>As a consequence, the gamma of a binary option changes sign, and so does
the vega. Options with gamma that changes sign are costly to hedge, as
simulations will demonstrate in section.</p>
<p>The dashboard in Figure <span class="math display">\[fig:eu-bin-call\]</span> is generated with the
following script:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-1" aria-hidden="true" tabindex="-1"></a>dtExpiry <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2011&quot;</span>)</span>
<span id="cb86-2"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-2" aria-hidden="true" tabindex="-1"></a>underlying <span class="ot">&lt;-</span> <span class="st">&quot;IBM&quot;</span></span>
<span id="cb86-3"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-3" aria-hidden="true" tabindex="-1"></a>Strike <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb86-4"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-4" aria-hidden="true" tabindex="-1"></a>K <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb86-5"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-6" aria-hidden="true" tabindex="-1"></a>bi <span class="ot">&lt;-</span> <span class="fu">fInstrumentFactory</span>(<span class="st">&quot;binary&quot;</span>, <span class="at">quantity =</span> <span class="dv">1</span>,</span>
<span id="cb86-7"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">cp =</span> <span class="st">&quot;c&quot;</span>, <span class="at">strike =</span> Strike, <span class="at">dtExpiry =</span> dtExpiry,</span>
<span id="cb86-8"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">underlying =</span> underlying, <span class="at">discountRef =</span> <span class="st">&quot;USD.LIBOR&quot;</span>,</span>
<span id="cb86-9"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">trace =</span> <span class="cn">FALSE</span>))</span>
<span id="cb86-10"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-11"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-11" aria-hidden="true" tabindex="-1"></a><span class="co"># define two vectors for the underlying and</span></span>
<span id="cb86-12"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the volatility all other market data is</span></span>
<span id="cb86-13"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-13" aria-hidden="true" tabindex="-1"></a><span class="co"># fixed</span></span>
<span id="cb86-14"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-14" aria-hidden="true" tabindex="-1"></a>und.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">40</span>, <span class="dv">160</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb86-15"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-15" aria-hidden="true" tabindex="-1"></a>vol.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb86-16"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-17"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-17" aria-hidden="true" tabindex="-1"></a>base.env <span class="ot">&lt;-</span> <span class="fu">DataProvider</span>()</span>
<span id="cb86-18"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-18" aria-hidden="true" tabindex="-1"></a>dtCalc <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2010&quot;</span>)</span>
<span id="cb86-19"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-19" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;DivYield&quot;</span>, dtCalc,</span>
<span id="cb86-20"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-20" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb86-21"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-21" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, <span class="st">&quot;USD.LIBOR&quot;</span>, <span class="st">&quot;Yield&quot;</span>, dtCalc,</span>
<span id="cb86-22"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-22" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb86-23"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-24"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-24" aria-hidden="true" tabindex="-1"></a><span class="fu">OptionDashBoard</span>(bi, base.env, dtCalc, und.seq,</span>
<span id="cb86-25"><a href="price-and-greeks-in-the-black-scholes-model.html#cb86-25" aria-hidden="true" tabindex="-1"></a>    vol.seq)</span></code></pre></div>
<p><img src="303-BlackScholes-3_files/figure-html/Binary-1.png" width="672"  /></p>
<p><img src="303-BlackScholes-3_files/figure-html/unnamed-chunk-1-1.png" width="576"  /></p>
</div>
<div id="barrier-option" class="section level3" number="11.2.3">
<h3><span class="header-section-number">11.2.3</span> Barrier Option</h3>
<p>There is a large variety of barrier options. Haug <span class="math display">\[[@Haug2006]\]</span>
provides a long list of pricing formulae for standard and complex
barrier payoffs. As an illustration we consider here the “up and out”
call, which is a regular European call that is canceled if the
underlying asset breaches an upper barrier before expiry.</p>
<p>Payoff:</p>
<p><span class="math display">\[(S_T-K)^+1_{\max_t S_t &lt; B}\]</span></p>
<p>This instruments introduces a new twist in the option landscape, since
this call option can have a negative delta. As for binary options, the
gamma can switch sign, and finally, observe the magnitude of the vega:
the maximum value, in absolute term, is twice as large as for european
options of comparable strike and maturity.</p>
<p>The dashboard in Figure <span class="math display">\[fig:eu-ba-call\]</span> is generated with the
following script:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-1" aria-hidden="true" tabindex="-1"></a>dtExpiry <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2011&quot;</span>)</span>
<span id="cb87-2"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-2" aria-hidden="true" tabindex="-1"></a>underlying <span class="ot">&lt;-</span> <span class="st">&quot;IBM&quot;</span></span>
<span id="cb87-3"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-3" aria-hidden="true" tabindex="-1"></a>Strike <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb87-4"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-4" aria-hidden="true" tabindex="-1"></a>barrier <span class="ot">&lt;-</span> <span class="dv">160</span></span>
<span id="cb87-5"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-6" aria-hidden="true" tabindex="-1"></a>ba <span class="ot">&lt;-</span> <span class="fu">fInstrumentFactory</span>(<span class="st">&quot;standardbarrier&quot;</span>, <span class="at">quantity =</span> <span class="dv">1</span>,</span>
<span id="cb87-7"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">cp =</span> <span class="st">&quot;cuo&quot;</span>, <span class="at">strike =</span> Strike,</span>
<span id="cb87-8"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">barrier =</span> barrier, <span class="at">rebate =</span> <span class="dv">0</span>, <span class="at">dtExpiry =</span> dtExpiry,</span>
<span id="cb87-9"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">underlying =</span> underlying, <span class="at">discountRef =</span> <span class="st">&quot;USD.LIBOR&quot;</span>,</span>
<span id="cb87-10"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">trace =</span> <span class="cn">FALSE</span>))</span>
<span id="cb87-11"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-12"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="co"># define two vectors for the underlying and</span></span>
<span id="cb87-13"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-13" aria-hidden="true" tabindex="-1"></a><span class="co"># the volatility all other market data is</span></span>
<span id="cb87-14"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="co"># fixed</span></span>
<span id="cb87-15"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-15" aria-hidden="true" tabindex="-1"></a>und.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">40</span>, <span class="dv">160</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb87-16"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-16" aria-hidden="true" tabindex="-1"></a>vol.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb87-17"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-18"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-18" aria-hidden="true" tabindex="-1"></a>base.env <span class="ot">&lt;-</span> <span class="fu">DataProvider</span>()</span>
<span id="cb87-19"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-19" aria-hidden="true" tabindex="-1"></a>dtCalc <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2010&quot;</span>)</span>
<span id="cb87-20"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-20" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;DivYield&quot;</span>, dtCalc,</span>
<span id="cb87-21"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-21" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb87-22"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-22" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, <span class="st">&quot;USD.LIBOR&quot;</span>, <span class="st">&quot;Yield&quot;</span>, dtCalc,</span>
<span id="cb87-23"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-23" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb87-24"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-25"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-25" aria-hidden="true" tabindex="-1"></a><span class="fu">OptionDashBoard</span>(ba, base.env, dtCalc, und.seq,</span>
<span id="cb87-26"><a href="price-and-greeks-in-the-black-scholes-model.html#cb87-26" aria-hidden="true" tabindex="-1"></a>    vol.seq)</span></code></pre></div>
<p><img src="303-BlackScholes-3_files/figure-html/Barrier-1.png" width="672"  /></p>
<p><img src="303-BlackScholes-3_files/figure-html/unnamed-chunk-2-1.png" width="576"  /></p>
</div>
<div id="asian-option" class="section level3" number="11.2.4">
<h3><span class="header-section-number">11.2.4</span> Asian Option</h3>
<p>An asian option is an option on the average value of the underlying
asset, computed over a period of time prior to expiry. This type is very
popular in commodities markets, because it captures the price risk on a
market participant that produces or consumes the asset at a steady rate
over time.</p>
<p>In spite of its apparent complexity, asian options are in fact fairly
easy to manage. One can think of an Asian option as a regular European
option, with an underlying asset that is the average value. The value of
an asian call is lower than the value of a comparable european vanilla
call, since the volatility of an average is lower than the volatility of
the price at expiry. For the same reason, the vega of an Asian option is
about half of the vega of its European conterpart.</p>
<p>The dashboard in Figure <span class="math display">\[fig:eu-as-call\]</span> is generated with the
following script:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-1" aria-hidden="true" tabindex="-1"></a>dtExpiry <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2011&quot;</span>)</span>
<span id="cb88-2"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-2" aria-hidden="true" tabindex="-1"></a>underlying <span class="ot">&lt;-</span> <span class="st">&quot;IBM&quot;</span></span>
<span id="cb88-3"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-3" aria-hidden="true" tabindex="-1"></a>Strike <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb88-4"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-5" aria-hidden="true" tabindex="-1"></a>ba <span class="ot">&lt;-</span> <span class="fu">fInstrumentFactory</span>(<span class="st">&quot;asian&quot;</span>, <span class="at">quantity =</span> <span class="dv">1</span>,</span>
<span id="cb88-6"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">cp =</span> <span class="st">&quot;c&quot;</span>, <span class="at">strike =</span> Strike, <span class="at">dtExpiry =</span> dtExpiry,</span>
<span id="cb88-7"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">dtStart =</span> dtCalc, <span class="at">dtEnd =</span> dtExpiry, <span class="at">underlying =</span> underlying,</span>
<span id="cb88-8"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">discountRef =</span> <span class="st">&quot;USD.LIBOR&quot;</span>, <span class="at">trace =</span> <span class="cn">FALSE</span>))</span>
<span id="cb88-9"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-10"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="co"># define two vectors for the underlying and</span></span>
<span id="cb88-11"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="co"># the volatility all other market data is</span></span>
<span id="cb88-12"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-12" aria-hidden="true" tabindex="-1"></a><span class="co"># fixed</span></span>
<span id="cb88-13"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-13" aria-hidden="true" tabindex="-1"></a>und.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">40</span>, <span class="dv">160</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb88-14"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-14" aria-hidden="true" tabindex="-1"></a>vol.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb88-15"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-16"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-16" aria-hidden="true" tabindex="-1"></a>base.env <span class="ot">&lt;-</span> <span class="fu">DataProvider</span>()</span>
<span id="cb88-17"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-17" aria-hidden="true" tabindex="-1"></a>dtCalc <span class="ot">&lt;-</span> <span class="fu">myDate</span>(<span class="st">&quot;01jan2010&quot;</span>)</span>
<span id="cb88-18"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-18" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, underlying, <span class="st">&quot;DivYield&quot;</span>, dtCalc,</span>
<span id="cb88-19"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-19" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb88-20"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-20" aria-hidden="true" tabindex="-1"></a><span class="fu">setData</span>(base.env, <span class="st">&quot;USD.LIBOR&quot;</span>, <span class="st">&quot;Yield&quot;</span>, dtCalc,</span>
<span id="cb88-21"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-21" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.02</span>)</span>
<span id="cb88-22"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-23"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-23" aria-hidden="true" tabindex="-1"></a><span class="fu">OptionDashBoard</span>(ba, base.env, dtCalc, und.seq,</span>
<span id="cb88-24"><a href="price-and-greeks-in-the-black-scholes-model.html#cb88-24" aria-hidden="true" tabindex="-1"></a>    vol.seq, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;price&quot;
##               [,1]         [,2]         [,3]         [,4]         [,5]
##  [1,] 0.000000e+00 2.797267e-15 1.929820e-07 1.676725e-04  0.004835215
##  [2,] 0.000000e+00 5.554081e-12 7.049604e-06 1.414773e-03  0.020537644
##  [3,] 0.000000e+00 2.457959e-09 1.228438e-04 7.848277e-03  0.066480524
##  [4,] 0.000000e+00 3.085715e-07 1.221308e-03 3.167283e-02  0.175041555
##  [5,] 0.000000e+00 1.458436e-05 7.863270e-03 9.988736e-02  0.392541985
##  [6,] 1.093153e-13 3.192058e-04 3.596464e-02 2.593626e-01  0.775341243
##  [7,] 8.008437e-10 3.780066e-03 1.252489e-01 5.765250e-01  1.383044255
##  [8,] 7.712348e-07 2.730738e-02 3.502590e-01 1.130251e+00  2.270945048
##  [9,] 1.429466e-04 1.322786e-01 8.198778e-01 1.999979e+00  3.483681688
## [10,] 6.907294e-03 4.636100e-01 1.660142e+00 3.253068e+00  5.051276086
## [11,] 1.125566e-01 1.251008e+00 2.985769e+00 4.935257e+00  6.987832736
## [12,] 7.770427e-01 2.736296e+00 4.873107e+00 7.066310e+00  9.292515837
## [13,] 2.802681e+00 5.064821e+00 7.345783e+00 9.640811e+00 11.951865448
## [14,] 6.409656e+00 8.224511e+00 1.037587e+01 1.263239e+01 14.942892256
## [15,] 1.096881e+01 1.207104e+01 1.389739e+01 1.600031e+01 18.236455170
## [16,] 1.584710e+01 1.640467e+01 1.782418e+01 1.969573e+01 21.799974968
## [17,] 2.078882e+01 2.104062e+01 2.206648e+01 2.366749e+01 25.599967634
## [18,] 2.573846e+01 2.584361e+01 2.654238e+01 2.786625e+01 29.603825049
## [19,] 3.068876e+01 3.072996e+01 3.118381e+01 3.224716e+01 33.781014330
## [20,] 3.563909e+01 3.565435e+01 3.593816e+01 3.677130e+01 38.103811303
## [21,] 4.058942e+01 4.059479e+01 4.076701e+01 4.140610e+01 42.547654136
## [22,] 4.553975e+01 4.554156e+01 4.564358e+01 4.612506e+01 47.091214686
## [23,] 5.049008e+01 5.049067e+01 5.054994e+01 5.090718e+01 51.716277174
## [24,] 5.544041e+01 5.544060e+01 5.547450e+01 5.573615e+01 56.407497967
## [25,] 6.039075e+01 6.039080e+01 6.040994e+01 6.059951e+01 61.152102719
##              [,6]       [,7]       [,8]       [,9]
##  [1,]  0.03480616  0.1267117  0.3156147  0.6239206
##  [2,]  0.10121228  0.2918643  0.6227507  1.1041871
##  [3,]  0.24293612  0.5821899  1.0977431  1.7834416
##  [4,]  0.50376139  1.0402770  1.7745638  2.6846818
##  [5,]  0.93201347  1.7053818  2.6800762  3.8230890
##  [6,]  1.57498535  2.6101067  3.8331392  5.2066461
##  [7,]  2.47400687  3.7785399  5.2447380  6.8371745
##  [8,]  3.66102069  5.2257150  6.9187684  8.7115201
##  [9,]  5.15690968  6.9580627  8.8531635 10.8227185
## [10,]  6.97138399  8.9744954 11.0411348 13.1610503
## [11,]  9.10402282 11.2678131 13.4723744 15.7148985
## [12,] 11.54600354 13.8261298 16.1340354 18.4714647
## [13,] 14.28193766 16.6341983 19.0117344 21.4174042
## [14,] 17.29194560 19.6746992 22.0902349 24.5392082
## [15,] 20.55337745 22.9291544 25.3540045 27.8235366
## [16,] 24.04229320 26.3788177 28.7876870 31.2574540
## [17,] 27.73457010 30.0051604 32.3764300 34.8286327
## [18,] 31.60683215 33.7903670 36.1060349 38.5254089
## [19,] 35.63701167 37.7176264 39.9631518 42.3368376
## [20,] 39.80470827 41.7713001 43.9353497 46.2527415
## [21,] 44.09138129 45.9370103 48.0111454 50.2637062
## [22,] 48.48041400 50.2016664 52.1800019 54.3610623
## [23,] 52.95708545 54.5534465 56.4323043 58.5368549
## [24,] 57.50847966 58.9817460 60.7593200 62.7838078
## [25,] 62.12335609 63.4771065 65.1531485 67.0952819</code></pre>
<p><img src="303-BlackScholes-3_files/figure-html/Asian-1.png" width="672"  /></p>
<pre><code>## [1] &quot;price&quot;
##               [,1]         [,2]         [,3]         [,4]         [,5]
##  [1,] 0.000000e+00 2.797267e-15 1.929820e-07 1.676725e-04  0.004835215
##  [2,] 0.000000e+00 5.554081e-12 7.049604e-06 1.414773e-03  0.020537644
##  [3,] 0.000000e+00 2.457959e-09 1.228438e-04 7.848277e-03  0.066480524
##  [4,] 0.000000e+00 3.085715e-07 1.221308e-03 3.167283e-02  0.175041555
##  [5,] 0.000000e+00 1.458436e-05 7.863270e-03 9.988736e-02  0.392541985
##  [6,] 1.093153e-13 3.192058e-04 3.596464e-02 2.593626e-01  0.775341243
##  [7,] 8.008437e-10 3.780066e-03 1.252489e-01 5.765250e-01  1.383044255
##  [8,] 7.712348e-07 2.730738e-02 3.502590e-01 1.130251e+00  2.270945048
##  [9,] 1.429466e-04 1.322786e-01 8.198778e-01 1.999979e+00  3.483681688
## [10,] 6.907294e-03 4.636100e-01 1.660142e+00 3.253068e+00  5.051276086
## [11,] 1.125566e-01 1.251008e+00 2.985769e+00 4.935257e+00  6.987832736
## [12,] 7.770427e-01 2.736296e+00 4.873107e+00 7.066310e+00  9.292515837
## [13,] 2.802681e+00 5.064821e+00 7.345783e+00 9.640811e+00 11.951865448
## [14,] 6.409656e+00 8.224511e+00 1.037587e+01 1.263239e+01 14.942892256
## [15,] 1.096881e+01 1.207104e+01 1.389739e+01 1.600031e+01 18.236455170
## [16,] 1.584710e+01 1.640467e+01 1.782418e+01 1.969573e+01 21.799974968
## [17,] 2.078882e+01 2.104062e+01 2.206648e+01 2.366749e+01 25.599967634
## [18,] 2.573846e+01 2.584361e+01 2.654238e+01 2.786625e+01 29.603825049
## [19,] 3.068876e+01 3.072996e+01 3.118381e+01 3.224716e+01 33.781014330
## [20,] 3.563909e+01 3.565435e+01 3.593816e+01 3.677130e+01 38.103811303
## [21,] 4.058942e+01 4.059479e+01 4.076701e+01 4.140610e+01 42.547654136
## [22,] 4.553975e+01 4.554156e+01 4.564358e+01 4.612506e+01 47.091214686
## [23,] 5.049008e+01 5.049067e+01 5.054994e+01 5.090718e+01 51.716277174
## [24,] 5.544041e+01 5.544060e+01 5.547450e+01 5.573615e+01 56.407497967
## [25,] 6.039075e+01 6.039080e+01 6.040994e+01 6.059951e+01 61.152102719
##              [,6]       [,7]       [,8]       [,9]
##  [1,]  0.03480616  0.1267117  0.3156147  0.6239206
##  [2,]  0.10121228  0.2918643  0.6227507  1.1041871
##  [3,]  0.24293612  0.5821899  1.0977431  1.7834416
##  [4,]  0.50376139  1.0402770  1.7745638  2.6846818
##  [5,]  0.93201347  1.7053818  2.6800762  3.8230890
##  [6,]  1.57498535  2.6101067  3.8331392  5.2066461
##  [7,]  2.47400687  3.7785399  5.2447380  6.8371745
##  [8,]  3.66102069  5.2257150  6.9187684  8.7115201
##  [9,]  5.15690968  6.9580627  8.8531635 10.8227185
## [10,]  6.97138399  8.9744954 11.0411348 13.1610503
## [11,]  9.10402282 11.2678131 13.4723744 15.7148985
## [12,] 11.54600354 13.8261298 16.1340354 18.4714647
## [13,] 14.28193766 16.6341983 19.0117344 21.4174042
## [14,] 17.29194560 19.6746992 22.0902349 24.5392082
## [15,] 20.55337745 22.9291544 25.3540045 27.8235366
## [16,] 24.04229320 26.3788177 28.7876870 31.2574540
## [17,] 27.73457010 30.0051604 32.3764300 34.8286327
## [18,] 31.60683215 33.7903670 36.1060349 38.5254089
## [19,] 35.63701167 37.7176264 39.9631518 42.3368376
## [20,] 39.80470827 41.7713001 43.9353497 46.2527415
## [21,] 44.09138129 45.9370103 48.0111454 50.2637062
## [22,] 48.48041400 50.2016664 52.1800019 54.3610623
## [23,] 52.95708545 54.5534465 56.4323043 58.5368549
## [24,] 57.50847966 58.9817460 60.7593200 62.7838078
## [25,] 62.12335609 63.4771065 65.1531485 67.0952819</code></pre>
<p><img src="303-BlackScholes-3_files/figure-html/od-Asian-N-1.png" width="576"  /></p>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="applicability-of-the-black-scholes-model.html"><button class="btn btn-default">Previous</button></a>
<a href="dynamic-hedging-with-the-black-scholes-model.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>



</body>
</html>
